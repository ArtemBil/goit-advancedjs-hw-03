{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["/**\n * Generate image string with data\n *\n * @param webformatURL\n * @param largeImageURL\n * @param tags\n * @param likes\n * @param views\n * @param comments\n * @param downloads\n * @return string\n */\nexport const generateImageGalleryItem = ({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n      width=\"360\"\n      height=\"200\"\n    />\n  </a>\n  <ul>\n    <li>\n        <h3>Likes</h3>\n        <p>${likes}</p>\n    </li>\n    <li>\n        <h3>Views</h3>\n        <p>${views}</p>\n    </li>\n    <li>\n        <h3>Comments</h3>\n        <p>${comments}</p>\n    </li>\n    <li>\n        <h3>Downloads</h3>\n        <p>${downloads}</p>\n    </li>\n  </ul>\n</li>\n`;\n\n/**\n * Render images to gallery\n *\n * @param data\n */\nexport function renderImages(data) {\n    const gallery = document.getElementById('gallery');\n    const imageElements = data.map(generateImageGalleryItem).join('');\n\n    gallery.insertAdjacentHTML('afterbegin', imageElements);\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst errorMessage = 'Something went wrong with your request. Please try again.'\n\n/**\n * Fetch Image Data\n *\n * @param url\n * @return {Promise<any>}\n */\nexport function fetchImages(url) {\n    return fetch(url)\n        .then(response => response.json())\n        .catch(() => {\n            iziToast.error({\n                message: errorMessage,\n                position: 'topRight'\n            });\n        })\n}","import iziToast from \"izitoast\";\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport {renderImages} from './js/render-functions.js';\nimport {fetchImages} from './js/pixabay-api.js';\n\nconst PUBLIC_API_KEY = '49464671-8ab53a49f1e625c6669932451';\nconst errorNotFoundMessage = 'Sorry, there are no images matching your search query. Please try again!'\n\nconst form = document.querySelector('form');\nconst gallery = document.getElementById('gallery');\nconst loader = document.querySelector('.loader');\nconst instance = new SimpleLightbox('#gallery a', {\n    captions: true,\n    captionType: 'attr',\n    captionDelay: 250,\n    showCounter: false,\n    captionsData: 'alt'\n});\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n    const input = event.target.querySelector('input');\n    const searchCriteria = input.value;\n    const url = `https://pixabay.com/api/?key=${PUBLIC_API_KEY}&q=${encodeURI(searchCriteria)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    gallery.innerHTML = '';\n    loader.classList.add('loading');\n    form.reset();\n\n    fetchImages(url).then(data => {\n        loader.classList.remove('loading');\n\n        if (!data.hits.length) {\n            return iziToast.error({\n                message: errorNotFoundMessage,\n                position: 'topRight'\n            });\n        }\n\n        renderImages(data.hits);\n        instance.refresh();\n    })\n\n});\n\nconsole.log(import.meta.env.VITE_PIXABAY_API_KEY)"],"names":["generateImageGalleryItem","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderImages","data","gallery","imageElements","errorMessage","fetchImages","url","response","iziToast","PUBLIC_API_KEY","errorNotFoundMessage","form","loader","instance","SimpleLightbox","event","searchCriteria"],"mappings":"6vBAYO,MAAMA,EAA2B,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA,kCAElFL,CAAa;AAAA;AAAA;AAAA,aAGlCD,CAAY;AAAA,aACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAQJC,CAAK;AAAA;AAAA;AAAA;AAAA,aAILC,CAAK;AAAA;AAAA;AAAA;AAAA,aAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,aAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,EAWf,SAASC,EAAaC,EAAM,CAC/B,MAAMC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAgBF,EAAK,IAAIT,CAAwB,EAAE,KAAK,EAAE,EAEhEU,EAAQ,mBAAmB,aAAcC,CAAa,CAC1D,CCnDA,MAAMC,EAAe,4DAQd,SAASC,EAAYC,EAAK,CAC7B,OAAO,MAAMA,CAAG,EACX,KAAKC,GAAYA,EAAS,MAAM,EAChC,MAAM,IAAM,CACTC,EAAS,MAAM,CACX,QAASJ,EACT,SAAU,UAC1B,CAAa,CACb,CAAS,CACT,CCbA,MAAMK,EAAiB,qCACjBC,EAAuB,2EAEvBC,EAAO,SAAS,cAAc,MAAM,EACpCT,EAAU,SAAS,eAAe,SAAS,EAC3CU,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,YAAa,OACb,aAAc,IACd,YAAa,GACb,aAAc,KAClB,CAAC,EAEDH,EAAK,iBAAiB,SAAWI,GAAU,CACvCA,EAAM,eAAe,EAErB,MAAMC,EADQD,EAAM,OAAO,cAAc,OAAO,EACnB,MACvBT,EAAM,gCAAgCG,CAAc,MAAM,UAAUO,CAAc,CAAC,2DAEzFd,EAAQ,UAAY,GACbU,EAAA,UAAU,IAAI,SAAS,EAC9BD,EAAK,MAAM,EAECN,EAAAC,CAAG,EAAE,KAAaL,GAAA,CAGtB,GAFGW,EAAA,UAAU,OAAO,SAAS,EAE7B,CAACX,EAAK,KAAK,OACX,OAAOO,EAAS,MAAM,CAClB,QAASE,EACT,SAAU,UAAA,CACb,EAGLV,EAAaC,EAAK,IAAI,EACtBY,EAAS,QAAQ,CAAA,CACpB,CAEL,CAAC,EAED,QAAQ,IAAI,MAAoC"}